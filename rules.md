# 融合卡牌游戏：UNO-Mahjong-Dou dizhu (UMD) 核心规则 V1.1

## 1. 游戏目标

- **最先出完自己所有手牌的玩家获得胜利。**

## 2. 牌库构成 (共368张)

- **开局**：每位玩家发13张手牌。
- **游戏人数**：支持2-10人游戏。
- **数字牌 (304 张)**：
  - 颜色：红、黄、蓝、绿。
  - 构成：数字 0 每色 4 张；数字 1-9 每色各 8 张。
- **功能牌 (48 张)**：
  - 颜色：红、黄、蓝、绿。
  - 构成："跳过"（阻挡）、"反转"、"+2"（罚抽2张）每种各 16 张。
- **万用牌 (16 张)**：
  - "变色牌"（Wild Card）8 张。
  - "+4 王牌"（Wild Draw 4）8 张。

## 3. 核心出牌规则

- **牌型一致**：你打出的牌型必须与上家一致（单张对单张，对子对对子等）。
- **出牌合法性判断**：你的出牌必须满足以下条件之一：
  1. **同色且更大**：例如，用"红对9"压"红对8"。
  2. **异色且等大**：例如，用"绿对8"压"红对8"。对于功能牌，"等大"指同类型功能牌（如"蓝跳过"可以压"红跳过"）。
  3. **炸弹**：四张同数字的牌。
  4. **+4/万能牌**：作为功能牌使用，保留+4效果。
- **特殊牌组合**："+2"、"+4"等功能牌同样遵循此规则。例如，上家出"蓝对+2"，你只能用"对+2"或"对+4"来压。
- **跳过牌特殊规则**：当上家出"跳过"牌时，下家必须被跳过，无法出牌或进行任何操作。

## 4. 权力层级

1. **炸弹** (四张同数) > **+4/万能牌** > **+2** > **反转** > **跳过** > **数字牌**。
2. 同类型牌，按数字大小决定。

## 5. 摸牌与惩罚

- **无牌可出（Pass）**：轮到你时，若无法或不想出牌，你必须从牌堆摸一张牌。摸牌后，本回合结束，轮到下一位玩家。
- **UNO宣告**：当你手牌只剩一张时，必须宣告"UNO"。若被其他玩家在下一家出牌前发现未宣告，你必须罚摸2张牌。

## 6. "吃、碰、杠"麻将规则

- **触发条件**：当任意玩家打出**单张牌**时。
- **优先级**："吃、碰、杠"的操作**优先于**正常的轮次顺序。若多人同时可操作，**杠 > 碰 > 吃**。
- **吃**：只能对**上家**打出的**数字牌**进行。你需要有能与该牌组成顺子的两张牌。**顺子必须同色**（例如：上家出"红5"，你必须有"红4"和"红6"才能吃）。
- **碰**：可以对**任何玩家**打出的牌进行。你需要有两张与该牌**完全相同**（颜色和数字/类型都相同）的牌。
- **杠**：可以对**任何玩家**打出的牌进行。你需要有三张与该牌**完全相同**（颜色和数字/类型都相同）的牌。
- **万能牌处理**：万能牌（变色牌、+4王牌）可以被吃、碰、杠，但仅保留其原始功能（+4效果），不作为Joker使用。
- **效果**：执行"吃、碰、杠"后，组合牌亮出，并**获得一个额外的出牌回合**。
- **特殊牌碰/杠**：当"碰"或"杠"了"+2"或"+4"时，**除自己以外的所有对手**都必须承受其效果。

## 7. 牌型定义 (斗地主规则)

- **单张**：任意单牌。
- **对子**：两张完全相同的牌（如：两个红9，两个蓝+2）。
- **三张**：三张完全相同的牌。
- **顺子**：五张或以上数字连续的牌（不限花色）。
- **连对**：三对或以上数字连续的对子。
- **飞机**：两组或以上数字连续的三张。
- **炸弹**：四张完全相同的牌。

## 8. 游戏流程

- 初始由随机一位玩家开始出牌。
- 玩家按顺序出牌，或被"吃/碰/杠"打断。
- 当一位玩家出牌后，所有其他玩家都选择摸牌（Pass），则该玩家赢得此轮，并获得下一轮的**主动出牌权**，可以出任意合法的牌型。
